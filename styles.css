/* ===========================
   Brises Residencial — styles.css
   Minimal one-page + parallax
   Paleta calma: verdes/azules para confianza
   =========================== */

/* -------- Paleta & base -------- */
:root{
  --bg:        #f6faf8;
  --surface:   #ffffff;
  --text:      #162623;
  --muted:     #5c6f6b;
  --primary:   #2f7d6d;  /* verde confiable */
  --primary-2: #8fd6c6;  /* acento suave */
  --accent:    #3f8fa4;  /* azul calmo */
  --line:      rgba(22, 38, 35, .08);
  --shadow:    0 10px 30px rgba(12, 53, 45, .08);
}

*{ box-sizing: border-box; }
html{ scroll-behavior: smooth; }
body{
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color: var(--text);
  background: var(--bg);
  line-height: 1.6;
}
img{ max-width: 100%; display:block; }
a{ color: inherit; text-decoration: none; }
a:focus-visible, button:focus-visible, input:focus-visible, textarea:focus-visible{
  outline: 3px solid var(--primary-2);
  outline-offset: 3px;
  border-radius: 8px;
}

/* -------- Header / Nav -------- */
header{
  position: sticky; top: 0; z-index: 50;
  backdrop-filter: saturate(140%) blur(6px);
  background: color-mix(in srgb, var(--surface) 82%, transparent);
  border-bottom: 1px solid var(--line);
}
.navBar{
  max-width: 1100px; margin: 0 auto;
  display: flex; gap: 1rem; align-items: center; justify-content: center;
  padding: .8rem 1rem;
  flex-wrap: wrap;
}
.navBar__Section{
  padding: .55rem .9rem;
  border-radius: 12px;
  font-weight: 600;
  color: var(--muted);
  transition: background .2s ease, color .2s ease, transform .05s ease;
}
.navBar__Section:hover{ background: #eaf5f1; color: var(--primary); }
.navBar__Section:active{ transform: translateY(1px); }

/* -------- Secciones -------- */
main{ overflow-x: hidden; }

h2 {
    text-align: center;    
}
section{
  padding: 72px 20px;
  border-bottom: 1px solid var(--line);
}
section:last-of-type{ border-bottom: none; }
section > h2{
  margin: 0 0 .4rem 0;
  font-size: clamp(1.35rem, 1.1rem + 1vw, 1.9rem);
  letter-spacing: .2px;
}
section > p, section li{
  color: var(--muted);
  font-size: clamp(.98rem, .94rem + .3vw, 1.05rem);
}

section > p, section > ul, section > .grid{
  max-width: 950px; margin: 0 auto;
}
ul{ padding-left: 1.1rem; }
ul li{ margin: .35rem 0; }
ul li::marker{ color: var(--primary); }

/* -------- Hero con Parallax -------- */
.title{
  position: relative;
  min-height: 92vh;
  display: grid; place-items: center;
  text-align: center;
  color: #0c1e1a;
  padding: 0 18px;
  background:
    linear-gradient(180deg, rgba(143,214,198,.28) 0%, rgba(246,250,248,1) 70%),
    url('https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?q=80&w=1600&auto=format&fit=crop') center/cover fixed no-repeat;
  box-shadow: inset 0 -30px 60px rgba(47,125,109,.12);
}
.title::after{
  content: "";
  position: absolute; inset: 0;
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.65) 60%, rgba(255,255,255,.95));
  pointer-events: none;
}
.title__Main{
  margin: 0;
  font-size: clamp(2rem, 1.2rem + 4vw, 4rem);
  line-height: 1.1;
  letter-spacing: .5px;
  text-shadow: 0 2px 14px rgba(255,255,255,.6);
}
.title__Sub{
  margin-top: .6rem;
  color: #2a5b51;
  font-weight: 600;
  letter-spacing: .2px;
}

/* -------- Galería -------- */
/* -------- Carrusel con flechas -------- */
#galeria { text-align: center; padding: 72px 20px; }
#galeria h2 { margin-bottom: 1.5rem; }

.carousel {
  position: relative;
  max-width: 900px;
  margin: 0 auto;
}

.carousel__viewport {
  overflow: hidden;
  border-radius: 18px;
  border: 1px solid var(--line);
  box-shadow: var(--shadow);
}

.carousel__track {
  display: flex;
  /* puede quedar scrollable para accesibilidad, pero ocultamos la barra */
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  scrollbar-width: none;             /* Firefox */
}
.carousel__track::-webkit-scrollbar { display: none; } /* WebKit */

.carousel__track img {
  flex: 0 0 100%;
  scroll-snap-align: center;
  object-fit: cover;
  height: auto;
  aspect-ratio: 16 / 9; /* ajustá si querés otro alto */
  display: block;
}

/* Botones */
.carousel__btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 5;
  width: 44px; height: 44px;
  border-radius: 999px;
  background: var(--surface);
  border: 1px solid var(--line);
  box-shadow: var(--shadow);
  cursor: pointer;
  display: grid; place-items: center;
  transition: background .2s ease, transform .08s ease, opacity .2s ease;
}
.carousel__btn:hover { background: #f3f8f6; }
.carousel__btn:active { transform: translateY(-50%) scale(0.98); }
.carousel__btn:focus-visible {
  outline: 3px solid var(--primary-2);
  outline-offset: 3px;
}

.carousel__btn.prev { left: 8px; }
.carousel__btn.next { right: 8px; }

/* Icono chevron con CSS puro */
.carousel__btn::before {
  content: "";
  width: 12px; height: 12px;
  border-right: 3px solid var(--muted);
  border-bottom: 3px solid var(--muted);
  transform: rotate(-45deg);
}
.carousel__btn.next::before { transform: rotate( -45deg ); }  /* → */
.carousel__btn.prev::before { transform: rotate(135deg ); }   /* ← */

/* Deshabilitado en bordes */
.carousel__btn[disabled] {
  opacity: .45; cursor: default; pointer-events: none;
}

/* Móvil: botones un poco más grandes para tap target */
@media (max-width: 600px){
  .carousel__btn { width: 48px; height: 48px; }
  .carousel__btn::before { width: 13px; height: 13px; }
}

/* -------- Ubicación / Mapa -------- */
#ubicacion {
  text-align: center;
}

#ubicacion > p {
  max-width: 900px;
  margin: 0.25rem auto 1rem;
  color: var(--muted);
}

.map {
  max-width: 900px;
  margin: 0 auto;
  border-radius: 18px;
  overflow: hidden;
  border: 1px solid var(--line);
  box-shadow: var(--shadow);
}

/* Contenedor responsive usando aspect-ratio */
.map__frame {
  width: 100%;
  aspect-ratio: 16 / 9; /* cambia a 4/3 si preferís más alto */
  display: block;
  border: 0;
}

/* link inferior */
.map__link {
  margin-top: 0.6rem;
}
.map__link a {
  color: var(--primary);
  text-decoration: underline;
}

/* -------- Formulario -------- */
.form{
  max-width: 820px; margin: 1rem auto 0;
  background: var(--surface);
  border: 1px solid var(--line);
  border-radius: 18px;
  box-shadow: var(--shadow);
  padding: 1.2rem;
}
.form__row{
  display: grid; gap: .45rem;
  margin-bottom: .9rem;
}
label{
  font-weight: 600; color: var(--text);
}
input[type="text"], input[type="email"], textarea{
  border: 1px solid var(--line);
  background: #fbfdfc;
  border-radius: 12px;
  padding: .8rem .9rem;
  font: inherit;
  color: var(--text);
}
input::placeholder, textarea::placeholder{ color: #8aa19b; }
textarea{ resize: vertical; }

.btn{
  display: inline-flex; align-items: center; justify-content: center;
  gap: .5rem; border-radius: 12px; padding: .8rem 1.1rem;
  font-weight: 700; cursor: pointer; border: 1px solid transparent;
  transition: transform .05s ease, filter .2s ease, background .2s ease, border-color .2s ease;
}
.btn:active{ transform: translateY(1px); }
.btn--primary{
  background: linear-gradient(180deg, color-mix(in srgb, var(--primary) 92%, white), var(--primary));
  color: #fff; border-color: color-mix(in srgb, var(--primary) 70%, black 10%);
}
.btn--primary:hover{ filter: saturate(110%); }

/* -------- CTA fijo -------- */
.cta-fixed{
  position: fixed; right: 16px; bottom: 16px; z-index: 60;
  background: var(--accent);
  color: white; font-weight: 800; letter-spacing: .2px;
  padding: .95rem 1.15rem;
  border-radius: 16px;
  box-shadow: 0 10px 24px rgba(63,143,164,.25);
  transition: transform .08s ease, background .2s ease;
}
.cta-fixed:hover{ background: color-mix(in srgb, var(--accent) 88%, white); }
.cta-fixed:active{ transform: translateY(1px); }

/* -------- Parallax por sección (opcional) -------- */
.parallax{
  position: relative;
  background-attachment: fixed;
  background-size: cover; background-position: center; background-repeat: no-repeat;
  isolation: isolate;
}
.parallax::before{
  content: ""; position: absolute; inset: 0; z-index: -1;
  background: linear-gradient(to bottom, rgba(255,255,255,.85), rgba(255,255,255,.92));
}

/* -------- Responsivo -------- */
@media (max-width: 768px){
  .navBar{ justify-content: flex-start; }
  section{ padding: 56px 16px; }
  .title{ min-height: 88vh; }
}

/* -------- Accesibilidad / movimiento reducido -------- */
@media (prefers-reduced-motion: reduce){
  html{ scroll-behavior: auto; }
  *{ animation: none !important; transition: none !important; }
  .title{ background-attachment: scroll; }
}

/* -------- Compatibilidad iOS parallax -------- */
/* iOS limita background-attachment: fixed; si no ves parallax en iPhone,
   mantené el degradé (ya presente) o usá librerías de scroll si lo necesitás. */


/* ---- Aparición por scroll ---- */
.reveal {
  opacity: 0;
  transform: translateY(18px);
  will-change: opacity, transform;
  transition: opacity .7s ease, transform .7s ease;
}

/* Cuando entra en vista */
.reveal.is-visible {
  opacity: 1;
  transform: none;
}

/* Variantes opcionales */
.reveal[data-variant="left"]  { transform: translateX(-24px); }
.reveal[data-variant="right"] { transform: translateX(24px); }
.reveal[data-variant="down"]  { transform: translateY(-18px); }

/* Al volverse visible, todas vuelven a su sitio */
.reveal.is-visible[data-variant],
.reveal.is-visible {
  transform: none;
}

/* Prefiere reducir movimiento: muestra sin animar */
@media (prefers-reduced-motion: reduce) {
  .reveal { opacity: 1 !important; transform: none !important; transition: none !important; }
}

/* ===== FAQ responsive fix ===== */

/* Contenedor (lo podés dejar como lo tenías) */
.faq{
  max-width: 900px;
  margin: 0.5rem auto 0;
  display: grid;
  gap: 10px;
}

/* Item */
.faq__item{
  border: 1px solid var(--line);
  border-radius: 16px;
  background: var(--surface);
  box-shadow: var(--shadow);
  /* Evita que un focus/chevron quede recortado en algunos navegadores */
  overflow: clip; /* mejor que hidden para outlines modernos */
}

/* SUMMARY: cambiamos flex -> grid, permitimos varias líneas */
.faq__item summary{
  display: grid;
  grid-template-columns: 1fr auto; /* texto | chevron */
  align-items: center;
  gap: .75rem;
  padding: 1rem 1.1rem;
  list-style: none;
  cursor: pointer;
  font-weight: 700;
  color: var(--text);
  /* WRAP robusto en móviles y textos largos */
  white-space: normal;
  overflow-wrap: anywhere;      /* moderno */
  word-break: break-word;       /* fallback */
}

/* Safari/Chromium: oculta el marcador nativo */
.faq__item summary::-webkit-details-marker{ display: none; }

/* Chevron como pseudo-elemento, anclado a la segunda columna */
.faq__item summary::after{
  content: "";
  grid-column: 2; /* asegura que quede a la derecha */
  width: 0.9rem;
  height: 0.9rem;
  border-right: 2px solid var(--muted);
  border-bottom: 2px solid var(--muted);
  transform: rotate(-45deg);
  transition: transform .2s ease;
}

/* Rotación al abrir */
.faq__item[open] summary::after{
  transform: rotate(45deg);
}

/* Contenido */
.faq__content{
  text-align: left;
  padding: 0 1.1rem 1rem 1.1rem;
  color: var(--muted);
  border-top: 1px solid var(--line);
}

/* Hover/focus */
.faq__item summary:hover{ background: #f3f8f6; }
.faq__item summary:focus-visible{
  outline: 3px solid var(--primary-2);
  outline-offset: 3px;
  border-radius: 10px;
}

/* Micro-ajustes móviles */
@media (max-width: 480px){
  .faq__item summary{
    padding: .9rem 1rem;
    gap: .6rem;
  }
  .faq__item summary::after{
    width: .85rem; height: .85rem;
  }
}

/* Respeta reduce-motion */
@media (prefers-reduced-motion: reduce){
  .faq__item summary::after{ transition: none; }
}

/* ====== Menú hamburguesa responsive ====== */

/* Tamaño base del header (para posicionar el panel) */
:root { --header-h: 64px; }

/* Asegura posicionamiento relativo del botón */
header { position: sticky; top: 0; z-index: 60; }

/* Botón hamburguesa (oculto en desktop) */
.navToggle{
  position: absolute; right: 16px; top: 50%; transform: translateY(-50%);
  display: none; /* se muestra en móvil */
  width: 44px; height: 44px;
  border-radius: 999px;
  background: var(--surface);
  border: 1px solid var(--line);
  box-shadow: var(--shadow);
  cursor: pointer;
}
.navToggle:focus-visible{
  outline: 3px solid var(--primary-2);
  outline-offset: 3px;
}

/* Ícono (3 barras) */
.navToggle__bars,
.navToggle__bars::before,
.navToggle__bars::after{
  content: ""; display: block;
  width: 22px; height: 2px; background: var(--text);
  margin: 0 auto;
  transition: transform .2s ease, opacity .2s ease, background .2s ease;
}
.navToggle__bars{ position: relative; }
.navToggle__bars::before{ position: absolute; top: -7px; left: 0; }
.navToggle__bars::after{  position: absolute; top:  7px; left: 0; }

/* Estado abierto: anima a “X” */
body.nav-open .navToggle__bars{ background: transparent; }
body.nav-open .navToggle__bars::before{
  transform: translateY(7px) rotate(45deg);
}
body.nav-open .navToggle__bars::after{
  transform: translateY(-7px) rotate(-45deg);
}

/* Panel de navegación en móvil */
@media (max-width: 768px){
  .navToggle{ display: inline-grid; place-items: center; }

  /* El nav se convierte en panel */
  header .navBar{
    position: fixed;
    top: var(--header-h);
    left: 12px; right: 12px;
    background: var(--surface);
    border: 1px solid var(--line);
    border-radius: 16px;
    box-shadow: var(--shadow);
    padding: 10px;
    display: flex; flex-direction: column; gap: 6px;
    /* oculto por defecto */
    transform: translateY(-10px);
    opacity: 0; pointer-events: none; visibility: hidden;
    z-index: 70;
  }

  /* Links como bloques táctiles grandes */
  .navBar__Section{
    display: block;
    padding: .9rem 1rem;
    border-radius: 10px;
    font-weight: 700;
  }
  .navBar__Section:hover{ background: #f3f8f6; color: var(--primary); }

  /* Abierto */
  body.nav-open header .navBar{
    transform: translateY(0);
    opacity: 1; pointer-events: auto; visibility: visible;
  }

  /* Evita scroll del body al abrir */
  body.nav-open{ overflow: hidden; }
}

/* Backdrop detrás del panel */
.navBackdrop{
  position: fixed; inset: 0;
  background: rgba(0,0,0,.18);
  backdrop-filter: blur(1px);
  opacity: 0; pointer-events: none;
  transition: opacity .2s ease;
  z-index: 50;
}
body.nav-open .navBackdrop{
  opacity: 1; pointer-events: auto;
}

/* Desktop conserva tu nav horizontal actual */
@media (min-width: 769px){
  header .navBar{
    display: flex; gap: 1rem; align-items: center; justify-content: center;
    padding: .8rem 1rem;
    position: static; transform: none; opacity: 1; visibility: visible;
    pointer-events: auto;
  }
}

/* CTA del panel móvil (oculto en desktop) */
.navBar__CTA{
  display: none; /* desktop oculto */
}

/* Mostrar y estilizar en móvil */
@media (max-width: 768px){
  .navBar__CTA{
    display: block;
    margin-top: 8px;
    padding: 1rem 1.1rem;
    text-align: center;
    font-weight: 800;
    letter-spacing: .2px;
    color: #fff;
    border-radius: 12px;
    background: linear-gradient(180deg,
      color-mix(in srgb, var(--accent) 92%, white),
      var(--accent)
    );
    border: 1px solid color-mix(in srgb, var(--accent) 70%, black 10%);
    box-shadow: var(--shadow);
    position: sticky; /* siempre visible si el panel scrollea */
    bottom: calc(8px + env(safe-area-inset-bottom, 0px));
  }
  .navBar__CTA:hover{
    filter: saturate(110%);
  }
  .navBar__CTA:focus-visible{
    outline: 3px solid var(--primary-2);
    outline-offset: 3px;
  }
}

/* (Opcional) Evitar duplicar CTA en móvil si ya usás .cta-fixed */
@media (max-width: 768px){
  .cta-fixed{ display: none; }
}

/* Altura estable para el header (coincide con el panel móvil) */
:root { --header-h: 64px; }

header{
  min-height: var(--header-h);
  display: flex;
  align-items: center;
  overflow: visible;            /* por las dudas, que nada recorte */
}

/* Asegura que el botón siempre quede arriba del header */
.navToggle{ z-index: 80; }

/* El panel móvil ya usa --header-h como top; lo reafirmamos */
@media (max-width: 768px){
  header .navBar{ top: var(--header-h); }
}

footer {
    text-align: center;
}